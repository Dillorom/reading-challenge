{"ast":null,"code":"import _classCallCheck from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/learn/final-project/reading-challenge-client/src/containers/Challenge/Books/Books.js\";\nimport React, { Component } from 'react';\nimport './Books.css';\nimport Book from '../../../components/Book/Book'; //import {PropTypes} from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport FullBook from '../FullBook/FullBook';\nimport BookService from '../../../services/BookService';\nimport NewBook from '../NewBook/NewBook'; //const API_URL = process.env.REACT_APP_API_URL\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allBooks: []\n    };\n\n    _this.bookSelectedHandler = function (id) {\n      _this.props.history.push({\n        pathname: '/books/' + id\n      }); //this.props.history.push('/' + id);\n\n    };\n\n    _this.addBook = function (book) {\n      BookService.createBook(book).then(function (book) {\n        return _this.setState({\n          allBooks: _this.state.allBooks.concat(book)\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BookService.fetchBooks().then(function (allBooks) {\n        return _this2.setState({\n          allBooks: allBooks\n        });\n      }); // fetch(`${API_URL}/books`)\n      // \t.then(response => response.json())\n      // \t\t.then(allBooks => this.setState({allBooks}))\n    } // state = {\n    //     allBooks: [\n    //         {\n    //             title: \"Design your life\",\n    // \t\t\tauthor: \"Bill Burnett\",\n    // \t\t\timg_url: \"https://images.gr-assets.com/books/1476133952l/26046333.jpg\",\n    // \t\t\tdescription: \"Build a Life that Works for You\"\n    // \t\t},\n    //         {\n    //             title: \"The last lecture\",\n    // \t\t\tauthor: \"Randy Pausch\",\n    // \t\t\timg_url: \"https://images.gr-assets.com/books/1529682044l/40611510.jpg\",\n    // \t\t\tdescription: \"Based on the extraordinary final lecture by Carnegie Mellon University professor Randy Pausch, given after he discovered he had pancreatic cancer, this moving book goes beyond the now-famous lecture to inspire readers to live each day with purpose and joy.\"\n    //         },\n    //         { \n    //             title: \"The arabian nights\",\n    // \t\t\tauthor: \"Wa'fa Tarnovska\",\n    // \t\t\timg_url: \"https://images.gr-assets.com/books/1347497895l/7959757.jpg\",\n    // \t\t\tdescription: \"Lebanese author Wafa' Tarnowska opens a window onto the Arab world with her magnificent new translation of eight stories from A Thousand and One Nights.\"\n    //         }\n    //     ]\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state);\n      var allBooks = React.createElement(\"p\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Something went wrong!\");\n\n      if (!this.state.error) {\n        allBooks = this.state.allBooks.map(function (book) {\n          return React.createElement(Link, {\n            to: \"/books/\" + book.id,\n            key: book.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(Book //key={book.id} \n          , {\n            title: book.title,\n            author: book.author,\n            img_url: book.img_url,\n            description: book.description,\n            clicked: function clicked() {\n              return _this3.bookSelectedHandler(book.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }));\n        });\n      } // let fullBooks;\n      // if (this.bookSelectHandler) {\n      // \tfullBooks = this.state.allBooks.map(book => {\n      // \t\treturn(\n      // \t\t\t<FullBook \n      // \t\t\ttitle={book.title} \n      // \t\t\tauthor={book.author}\n      // \t\t\timg_url={book.img_url}\n      // \t\t\tdescription={book.description}\n      // \t\t\t/>\n      // \t);\n      // \t});\n      // }\n\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"Books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, allBooks), React.createElement(\"section\", {\n        className: \"FullBooks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: this.props.match.url + '/:id',\n        render: function render(props) {\n          return React.createElement(FullBook, {\n            books: _this3.state.allBooks,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })), React.createElement(NewBook, {\n        addBook: this.addBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })); // how do I get to the exact route, so that full page does not show up in books page, until I click on a book -- \n      //exact component={FullBook}\n    }\n  }]);\n\n  return Books;\n}(Component);\n\n; // Books.propTypes = {\n// \tallBooks: function(props) {\n// \t\tif(!Array.isArray(props.allBooks)) {\n// \t\t\treturn new Error(\n// \t\t\t\t\"Books should be an array\"\t\n// \t\t\t\t)\n// \t\t} else if(!props.allBooks.length) {\n// \t\t\treturn new Error(\n// \t\t\t\t\"Books must have at least one record\"\n// \t\t\t\t)\n// \t\t} else {\n// \t\t\treturn null\n// \t\t}\n// \t}\n// }\n\nexport default Books;","map":{"version":3,"sources":["/home/learn/final-project/reading-challenge-client/src/containers/Challenge/Books/Books.js"],"names":["React","Component","Book","Link","Route","FullBook","BookService","NewBook","Books","state","allBooks","bookSelectedHandler","id","props","history","push","pathname","addBook","book","createBook","then","setState","concat","fetchBooks","console","log","textAlign","error","map","title","author","img_url","description","match","url"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Books.css';\nimport Book from '../../../components/Book/Book';\n//import {PropTypes} from 'react';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport FullBook from '../FullBook/FullBook';\nimport BookService from '../../../services/BookService';\nimport NewBook from '../NewBook/NewBook';\n\n//const API_URL = process.env.REACT_APP_API_URL\n\nclass Books extends Component {\n\tstate = {\n\t\tallBooks: []\n\t}\n\n\tcomponentDidMount() {\n\t\tBookService.fetchBooks().then(allBooks => this.setState({allBooks}))\n\t\t// fetch(`${API_URL}/books`)\n\t\t// \t.then(response => response.json())\n\t\t// \t\t.then(allBooks => this.setState({allBooks}))\n\t}\n\t// state = {\n    //     allBooks: [\n    //         {\n    //             title: \"Design your life\",\n\t// \t\t\tauthor: \"Bill Burnett\",\n\t// \t\t\timg_url: \"https://images.gr-assets.com/books/1476133952l/26046333.jpg\",\n\t// \t\t\tdescription: \"Build a Life that Works for You\"\n\t// \t\t},\n    //         {\n    //             title: \"The last lecture\",\n\t// \t\t\tauthor: \"Randy Pausch\",\n\t// \t\t\timg_url: \"https://images.gr-assets.com/books/1529682044l/40611510.jpg\",\n\t// \t\t\tdescription: \"Based on the extraordinary final lecture by Carnegie Mellon University professor Randy Pausch, given after he discovered he had pancreatic cancer, this moving book goes beyond the now-famous lecture to inspire readers to live each day with purpose and joy.\"\n    //         },\n    //         { \n    //             title: \"The arabian nights\",\n\t// \t\t\tauthor: \"Wa'fa Tarnovska\",\n\t// \t\t\timg_url: \"https://images.gr-assets.com/books/1347497895l/7959757.jpg\",\n\t// \t\t\tdescription: \"Lebanese author Wafa' Tarnowska opens a window onto the Arab world with her magnificent new translation of eight stories from A Thousand and One Nights.\"\n    //         }\n    //     ]\n\t// }\n\t\n\tbookSelectedHandler = (id) => {\n\t\tthis.props.history.push({pathname:'/books/' + id});\n\t\t//this.props.history.push('/' + id);\n\t}\n\n\taddBook = book => {\n\t\tBookService.createBook(book).then(book => this.setState({\n\t\t\tallBooks: this.state.allBooks.concat(book)\n\t\t}))\n\t}\n\trender(){\n\t\tconsole.log(this.state)\n\t\t\t\n\t\tlet allBooks = <p style={{textAlign: 'center'}}>Something went wrong!</p>;\n\t\tif (!this.state.error) {\n\t\t\tallBooks = this.state.allBooks.map(book => {\n\t\t\t\treturn(\n\t\t\t\t<Link to={\"/books/\" + book.id} key={book.id} >\n\t\t\t\t\t <Book\n\t\t\t\t\t \t//key={book.id} \n\t\t\t\t\t\ttitle={book.title} \n\t\t\t\t\t\tauthor={book.author}\n\t\t\t\t\t\timg_url={book.img_url}\n\t\t\t\t\t\tdescription={book.description}\n\t\t\t\t\tclicked={() => this.bookSelectedHandler(book.id)} />\n\t\t\t\t</Link>\n\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\t// let fullBooks;\n\t\t// if (this.bookSelectHandler) {\n\t\t// \tfullBooks = this.state.allBooks.map(book => {\n\t\t// \t\treturn(\n\t\t// \t\t\t<FullBook \n\t\t// \t\t\ttitle={book.title} \n\t\t// \t\t\tauthor={book.author}\n\t\t// \t\t\timg_url={book.img_url}\n\t\t// \t\t\tdescription={book.description}\n\t\t// \t\t\t/>\n\t\t// \t);\n\t\t// \t});\n\t\t// }\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<section className=\"Books\">\n\t\t\t\t\t{allBooks}\t\t\t\t\n\t\t\t\t</section>\n\t\t\t\t<section className=\"FullBooks\">\n\t\t\t\t{/* <Route path={this.props.match.url + '/:id'} render={(props) => <FullBook {...props} books={fullBooks} />} /> */}\n\t\t\t\t\t<Route path={this.props.match.url + '/:id'} render={(props) => <FullBook books={this.state.allBooks} />} /> \n\t\t\t\t</section>\n\t\t\t\t<NewBook addBook={this.addBook} />\n\t\t\t</div>\n\t\t);\n\t\t// how do I get to the exact route, so that full page does not show up in books page, until I click on a book -- \n\t\t//exact component={FullBook}\n\t}\n};\n\n// Books.propTypes = {\n// \tallBooks: function(props) {\n// \t\tif(!Array.isArray(props.allBooks)) {\n// \t\t\treturn new Error(\n// \t\t\t\t\"Books should be an array\"\t\n// \t\t\t\t)\n// \t\t} else if(!props.allBooks.length) {\n// \t\t\treturn new Error(\n// \t\t\t\t\"Books must have at least one record\"\n// \t\t\t\t)\n// \t\t} else {\n// \t\t\treturn null\n// \t\t}\n// \t}\n// }\n\n\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}