{"ast":null,"code":"import _toConsumableArray from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/learn/final-project/reading-challenge-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/learn/final-project/reading-challenge-client/src/containers/Books/Books.js\";\nimport React, { Component, Suspense } from 'react';\nimport './Books.css';\nimport Book from '../../components/Book/Book';\nimport { Link } from 'react-router-dom';\nimport FullBook from '../FullBook/FullBook';\nimport BookService from '../../services/BookService'; //import NewBook from '../NewBook/NewBook';\n\nimport ChallengeTracker from '../../components/ChallengeTracker/ChallengeTracker';\nimport { Route, NavLink, Switch } from 'react-router-dom';\nimport Login from '../../components/User/Login/Login';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nvar NewBook = React.lazy(function () {\n  return import('../NewBook/NewBook');\n});\nvar API_URL = process.env.REACT_APP_API_URL;\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Books)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.bookSelectedHandler = function (id) {\n      _this.props.history.push({\n        pathname: '/books/' + id\n      });\n\n      _this.setState({\n        selectedBookId: id\n      }); //this.props.history.push('/' + id);\n\n    };\n\n    _this.addBook = function (book) {\n      BookService.createBook(book).then(function (book) {\n        return _this.setState({\n          books: _this.state.books.concat(book)\n        });\n      });\n    };\n\n    _this.deleteBook = function (bookId) {\n      var request = {\n        method: 'DELETE'\n      };\n      return fetch(\"\".concat(API_URL, \"/books/\").concat(bookId), request).then(function (response) {\n        if (response.ok) {\n          var index = _this.props.books.findIndex(function (book) {\n            return book.id === bookId;\n          });\n\n          _this.setState({\n            books: _toConsumableArray(_this.props.books.slice(0, index)).concat(_toConsumableArray(_this.props.books.slice(index + 1)))\n          });\n        } else {\n          window.alert(\"Unable to delete the book.\");\n        }\n      }).catch(function (err) {\n        return console.log(\"Received this error while trying to delete a book:\", err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BookService.fetchBooks().then(function (books) {\n        return _this2.setState({\n          books: books\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // let allBooks = <p style={{textAlign: 'center'}}>Something went wrong!</p>;\n      // if (!this.state.error) {\n      // \tconsole.log(this.state.allBooks)\n      // \tallBooks = this.state.allBooks.map(book => {\n      // \t\treturn(\n      // \t\t<Link to={\"/books/\" + book.id} key={book.id} >\n      // \t\t\t <Book\n      // \t\t\t\ttitle={book.title} \n      // \t\t\t\tauthor={book.author}\n      // \t\t\t\timg_url={book.img_url}\n      // \t\t\t\tdescription={book.description}\n      // \t\t\t\tclicked={() => this.bookSelectedHandler(book.id)} />\n      // \t\t</Link>\n      // \t\t);\n      // \t});\n      // };\n      var renderBooks = function renderBooks() {\n        return _this3.props.books.map(function (book) {\n          return React.createElement(Link, {\n            to: \"/books/\" + book.id,\n            key: book.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(Book, {\n            title: book.title,\n            author: book.author,\n            img_url: book.img_url,\n            description: book.description,\n            clicked: function clicked() {\n              return _this3.bookSelectedHandler(book.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }));\n        });\n      };\n\n      var newArray = this.props.books.filter(function (book) {\n        return book.id === _this3.props.selectedBookId;\n      });\n\n      if (this.props.selectedBookId !== null) {\n        return (// <Route path={this.props.match.url + '/:id'} render={(props) => \n          // <Link to={\"/books/\" + this.state.selectedBookId}  >\n          React.createElement(FullBook, {\n            title: newArray[0].title,\n            author: newArray[0].author,\n            img_url: newArray[0].img_url,\n            alt: newArray[0].title,\n            description: newArray[0].description,\n            delete: function _delete() {\n              return _this3.deleteBook(_this3.props.selectedBookId);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }) // </Link>\n\n        );\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Challenge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/books\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Library\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: {\n          pathname: '/new-book',\n          hash: '#submit',\n          search: '?quick-submit=true'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Add Book\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/goal\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"My Goal\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Login\"))))), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/login\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/books/:id\",\n        component: FullBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/goal\",\n        component: ChallengeTracker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/new-book\",\n        render: function render(props) {\n          return React.createElement(Suspense, {\n            fallback: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130\n              },\n              __self: this\n            }, \"Loading...\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(NewBook, {\n            addBook: _this3.addBook,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"Books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, renderBooks)));\n    }\n  }]);\n\n  return Books;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  debugger;\n  return {\n    books: state.addBook.books,\n    selectedBookId: state.addBook.selectedBookId\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Books));","map":{"version":3,"sources":["/home/learn/final-project/reading-challenge-client/src/containers/Books/Books.js"],"names":["React","Component","Suspense","Book","Link","FullBook","BookService","ChallengeTracker","Route","NavLink","Switch","Login","withRouter","connect","NewBook","lazy","API_URL","process","env","REACT_APP_API_URL","Books","bookSelectedHandler","id","props","history","push","pathname","setState","selectedBookId","addBook","book","createBook","then","books","state","concat","deleteBook","bookId","request","method","fetch","response","ok","index","findIndex","slice","window","alert","catch","err","console","log","fetchBooks","renderBooks","map","title","author","img_url","description","newArray","filter","hash","search","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport './Books.css';\nimport Book from '../../components/Book/Book';\nimport { Link } from 'react-router-dom';\nimport FullBook from '../FullBook/FullBook';\nimport BookService from '../../services/BookService';\n//import NewBook from '../NewBook/NewBook';\nimport ChallengeTracker from '../../components/ChallengeTracker/ChallengeTracker'\nimport { Route, NavLink, Switch } from 'react-router-dom';\nimport Login from '../../components/User/Login/Login';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux'\n\nconst NewBook = React.lazy(() => import('../NewBook/NewBook'))\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nclass Books extends Component {\n\n\tcomponentDidMount() {\n\t\tBookService.fetchBooks().then(books => this.setState({books: books})\n\t)}\n\t\n\t\n\tbookSelectedHandler = (id) => {\n\t\tthis.props.history.push({pathname:'/books/' + id});\n\t\tthis.setState({\n\t\t\tselectedBookId: id\n\t\t})\n\t\t//this.props.history.push('/' + id);\n\t}\n\n\taddBook = book => {\n\t\tBookService.createBook(book).then(book => this.setState({\n\t\t\tbooks: this.state.books.concat(book)\n\t\t}))\n\t}\n\n\tdeleteBook = bookId => {\n\t\tconst request = {\n\t\tmethod: 'DELETE'\n\t\t}\n\t\treturn fetch(`${API_URL}/books/${bookId}`, request)\n\t\t\t.then(response => {\n\t\t\t\tif (response.ok){\n\t\t\t\t\tconst index = this.props.books.findIndex(book => book.id === bookId)  \n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tbooks: [\n\t\t\t\t\t\t\t...this.props.books.slice(0, index),\n\t\t\t\t\t\t\t...this.props.books.slice(index + 1)\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"Unable to delete the book.\")\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(\"Received this error while trying to delete a book:\", err))\n\t}\n\n\trender(){\n\t\t// let allBooks = <p style={{textAlign: 'center'}}>Something went wrong!</p>;\n\t\t// if (!this.state.error) {\n\t\t// \tconsole.log(this.state.allBooks)\n\t\t// \tallBooks = this.state.allBooks.map(book => {\n\t\t// \t\treturn(\n\t\t// \t\t<Link to={\"/books/\" + book.id} key={book.id} >\n\t\t// \t\t\t <Book\n\t\t// \t\t\t\ttitle={book.title} \n\t\t// \t\t\t\tauthor={book.author}\n\t\t// \t\t\t\timg_url={book.img_url}\n\t\t// \t\t\t\tdescription={book.description}\n\t\t// \t\t\t\tclicked={() => this.bookSelectedHandler(book.id)} />\n\t\t// \t\t</Link>\n\n\t\t// \t\t);\n\t\t// \t});\n\t\t// };\n\n\t\tconst renderBooks = () => this.props.books.map(book => {\n\t\t\t\t\treturn(\n\t\t\t\t\t<Link to={\"/books/\" + book.id} key={book.id} >\n\t\t\t\t\t\t <Book\n\t\t\t\t\t\t\ttitle={book.title} \n\t\t\t\t\t\t\tauthor={book.author}\n\t\t\t\t\t\t\timg_url={book.img_url}\n\t\t\t\t\t\t\tdescription={book.description}\n\t\t\t\t\t\t\tclicked={() => this.bookSelectedHandler(book.id)} />\n\t\t\t\t\t</Link>\n\t\n\t\t\t\t\t);\n\t\t\t\t});\n\n\n\t\tconst newArray = this.props.books.filter(book => book.id === this.props.selectedBookId)\n\t    if (this.props.selectedBookId !== null){\n            return(\n\t\t\t\t// <Route path={this.props.match.url + '/:id'} render={(props) => \n\t\t\t\t// <Link to={\"/books/\" + this.state.selectedBookId}  >\n\t\t\t\t\t<FullBook \n\t\t\t\t\t\ttitle={newArray[0].title}\n\t\t\t\t\t\tauthor={newArray[0].author}\n\t\t\t\t\t\timg_url={newArray[0].img_url} alt={newArray[0].title}\n\t\t\t\t\t\tdescription={newArray[0].description}\n\t\t\t\t\t\tdelete={() => this.deleteBook(this.props.selectedBookId)} /> \n\t\t\t\t// </Link>\n\t\t\t)\n\t\t}\n\t\t\n\t\treturn(\n\t\t\t<div className=\"Challenge\">\n                <header>\n                    <nav>\n                        <ul>\n                            <li><NavLink to=\"/books\" exact>Library</NavLink></li>\n                            <li><NavLink to={{\n                                pathname: '/new-book',\n                                hash: '#submit',\n                                search: '?quick-submit=true'\n                            }}>Add Book</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/goal\" exact>My Goal</NavLink></li>\n\t\t\t\t\t\t\t<li><NavLink to=\"/login\">Login</NavLink></li>\n                        </ul>\n                    </nav>\n                </header>\n                <Switch>\n                    <Route path=\"/login\" component={Login} />\n\t\t\t\t\t<Route path=\"/books/:id\" component={FullBook} />\n\t\t\t\t\t<Route path=\"/goal\" component={ChallengeTracker} />\n                       <Route path=\"/new-book\" render={(props) => (\n                        <Suspense fallback={<div>Loading...</div>} >\n                            <NewBook addBook={this.addBook}/>\n                        </Suspense>\n                        )} />\n\t\t\t\t\t\t<section className=\"Books\">\n\t\t\t\t\t\t\t{renderBooks}\t\t\t\t\n\t\t\t\t\t\t</section> \n               </Switch>\n\t\t\t</div>\n\t\t);\n\t}\n};\nconst mapStateToProps = state => {\n\tdebugger\n\treturn {\n\t  books: state.addBook.books,\n\t  selectedBookId: state.addBook.selectedBookId\n\t}\n  }\nexport default connect(mapStateToProps)(withRouter(Books));"]},"metadata":{},"sourceType":"module"}